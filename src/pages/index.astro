---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
---

<Layout title="Ethan Crann">
	<main id="tv" class="powerWrapper">
		<div class="crt vignette">
			<h1 class="siteTitle">Ethan Crann</h1>
			<div class="linkContainer">
				<div class="growDiv">
					<h2 class="pageLink"><a href="/info">Info</a></h2>
				</div>
				<div class="growDiv">
					<h2 class="pageLink">Projects</h2>
				</div>
				<div class="growDiv">
					<h2 class="pageLink">Blog</h2>
				</div>
				<div class="growDiv">
					<h2 class="pageLink">Contact</h2>
				</div>
			</div>
			<script>
				function handleTitleClick() {
					console.log("Test")
				}
				console.log("Hello")

				const title = document.querySelector('h1.siteTitle');
				if (title){
					title.addEventListener('click', () => {
						reset_animation();
					});
				}

				function reset_animation() {
					var el = document.getElementById('tv');
					console.log("God Why",el)
					if (el) {
						el.style.animation = 'none';
						el.offsetHeight; /* trigger reflow */
						el.style.animation = ""; 
					}
				}
			</script>
		</div>
	</main>
</Layout>

<style>

	@font-face {
		font-family: 'ULTRA';
		src: url('/fonts/VCR_OSD_MONO.ttf');
		font-weight: normal;
		font-style: normal;
		font-display: swap;
	}
	main {
		margin: auto;
		padding: 1rem;
		width: 100%;
		height: 100%;
		color: white;
		font-size: 20px;
		line-height: 1.6;
		font-family: ULTRA, sans-serif;
		display: flex;
		align-items: center;
		flex-direction: column;
		justify-content: center;
	}
	h1 {
		font-size: 4rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
		display: flex;
	}
	h2 {
		font-size: 3rem;
		font-weight: 700;
		line-height: 1;
		margin-bottom: 1em;
	}
	a {
		color: inherit;
		text-decoration: none;
	}
	@keyframes flicker {
		0% {
			opacity: 0.27861;
		}
		5% {
			opacity: 0.34769;
		}
		10% {
			opacity: 0.23604;
		}
		15% {
			opacity: 0.90626;
		}
		20% {
			opacity: 0.18128;
		}
		25% {
			opacity: 0.83891;
		}
		30% {
			opacity: 0.65583;
		}
		35% {
			opacity: 0.67807;
		}
		40% {
			opacity: 0.26559;
		}
		45% {
			opacity: 0.84693;
		}
		50% {
			opacity: 0.96019;
		}
		55% {
			opacity: 0.08594;
		}
		60% {
			opacity: 0.20313;
		}
		65% {
			opacity: 0.71988;
		}
		70% {
			opacity: 0.53455;
		}
		75% {
			opacity: 0.37288;
		}
		80% {
			opacity: 0.71428;
		}
		85% {
			opacity: 0.70419;
		}
		90% {
			opacity: 0.7003;
		}
		95% {
			opacity: 0.36108;
		}
		100% {
			opacity: 0.24387;
		}
	}
	@keyframes textShadow {
		0% {
			text-shadow: 0.4389924193300864px 0 1px rgba(0,30,255,0.5), -0.4389924193300864px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		5% {
			text-shadow: 2.7928974010788217px 0 1px rgba(0,30,255,0.5), -2.7928974010788217px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		10% {
			text-shadow: 0.02956275843481219px 0 1px rgba(0,30,255,0.5), -0.02956275843481219px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		15% {
			text-shadow: 0.40218538552878136px 0 1px rgba(0,30,255,0.5), -0.40218538552878136px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		20% {
			text-shadow: 3.4794037899852017px 0 1px rgba(0,30,255,0.5), -3.4794037899852017px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		25% {
			text-shadow: 1.6125630401149584px 0 1px rgba(0,30,255,0.5), -1.6125630401149584px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		30% {
			text-shadow: 0.7015590085143956px 0 1px rgba(0,30,255,0.5), -0.7015590085143956px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		35% {
			text-shadow: 3.896914047650351px 0 1px rgba(0,30,255,0.5), -3.896914047650351px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		40% {
			text-shadow: 3.870905614848819px 0 1px rgba(0,30,255,0.5), -3.870905614848819px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		45% {
			text-shadow: 2.231056963361899px 0 1px rgba(0,30,255,0.5), -2.231056963361899px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		50% {
			text-shadow: 0.08084290417898504px 0 1px rgba(0,30,255,0.5), -0.08084290417898504px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		55% {
			text-shadow: 2.3758461067427543px 0 1px rgba(0,30,255,0.5), -2.3758461067427543px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		60% {
			text-shadow: 2.202193051050636px 0 1px rgba(0,30,255,0.5), -2.202193051050636px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		65% {
			text-shadow: 2.8638780614874975px 0 1px rgba(0,30,255,0.5), -2.8638780614874975px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		70% {
			text-shadow: 0.48874025155497314px 0 1px rgba(0,30,255,0.5), -0.48874025155497314px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		75% {
			text-shadow: 1.8948491305757957px 0 1px rgba(0,30,255,0.5), -1.8948491305757957px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		80% {
			text-shadow: 0.0833037308038857px 0 1px rgba(0,30,255,0.5), -0.0833037308038857px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		85% {
			text-shadow: 0.09769827255241735px 0 1px rgba(0,30,255,0.5), -0.09769827255241735px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		90% {
			text-shadow: 3.443339761481782px 0 1px rgba(0,30,255,0.5), -3.443339761481782px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		95% {
			text-shadow: 2.1841838852799786px 0 1px rgba(0,30,255,0.5), -2.1841838852799786px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
		100% {
			text-shadow: 2.6208764473832513px 0 1px rgba(0,30,255,0.5), -2.6208764473832513px 0 1px rgba(255,0,80,0.3), 0 0 3px;
		}
	}

	@keyframes skew-x-shakeng{
		0% { transform: skewX(-15deg) skewY(5deg); }
		5% { transform: skewX(15deg) skewY(5deg); }
		10% { transform: skewX(-15deg) skewY(5deg); }
		15% { transform: skewX(15deg) skewY(5deg); }
		20% { transform: skewX(0deg) skewY(0deg); }
		100% { transform: skewX(0deg)skewY(0deg); }
	}

	@keyframes grow{
		0% { transform: scale(1); }
		/* 5% { transform: scale(1); }
		10% { transform: scale(1); }
		15% { transform: scale(1); }
		20% { transform: scale(1); } */
		100% { transform: scale(1.1); }
	}

	.crt::after {
		content: " ";
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		right: 0;
		background: rgba(18, 16, 16, 0.1);
		opacity: 0;
		z-index: 2;
		pointer-events: none;
		animation: flicker 0.15s infinite;
	}
	.crt::before {
		content: " ";
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		right: 0;
		background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
		z-index: 2;
		background-size: 100% 2px, 3px 100%;
		pointer-events: none;
	}
	.crt {
		animation: textShadow 1.6s infinite;
		margin: 0;
		padding: 0;
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		align-content: center;
		justify-content: center;
		flex-direction: column;
	}

	.pageLink {
		width: fit-content;
		margin: 0;
	}
	.pageLink:hover {
		animation: skew-x-shakeng 0.1s infinite;
	}
	.growDiv:hover {
		animation-name: grow;
		animation-duration: 0.1s;
		animation-delay: 0s;
		animation-iteration-count: 1;
		animation-fill-mode: forwards;
	}
	.growDiv {
		width: fit-content;
		height: fit-content;
	}

	.linkContainer {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.vignette {
		background-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/86186/crt.png);
		@include fill;
			background-repeat: no-repeat;
			background-size: 100% 100%; 
		z-index: 10000;
	}
	.powerWrapper {
		animation: switchChannel 2s;
		animation-fill-mode: forwards;
		margin: 0;
		padding: 0;
	}

	@keyframes glitch {
  		1%{
    		transform: rotateX(10deg) skewX(90deg);
  		}
  		2%{
  	 	 	transform: rotateX(0deg) skewX(0deg);
 	 	}
	}
	@keyframes switchChannel{
		0%{
			transform:scale(1,0.8) translate3d(0,0,0);
			-webkit-filter:brightness(30);
			filter:brightness(30);
			opacity:1;
		}
		3.5%{
			transform:scale(1,0.8) translate3d(0,100%,0);
		}

		3.6%{
			transform:scale(1,0.8) translate3d(0,-100%,0);
			opacity:1;
		} 

		9%{
			transform:scale(1.3,0.6) translate3d(0,100%,0);
			-webkit-filter:brightness(30);
			filter:brightness(30);
			opacity:0;
		}

		11%{
			transform:scale(1,1) translate3d(0,0,0);
			-webkit-filter:contrast(0) brightness(0) ;
			filter:contrast(0) brightness(0);
			opacity:0;
		}

		100%{
			transform:scale(1,1) translate3d(0,0,0);
			-webkit-filter:contrast(1) brightness(1.2) saturate(1.3);
			filter:contrast(1) brightness(1.2) saturate(1.3);
			opacity:1;
		}
	}
</style>
